<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>test</title>
    <script>
        function insertArticle() {
            const data = {
                title: document.getElementById('title').value,
                content: document.getElementById('content').value,
                dateStamp:new Date(),
                likes: 0,
                dislikes: 0,
                views: 0
            }
            sendData("/article/insert", JSON.stringify(data), (res) => {
                console.log(res)
            })
        }

        function sendPost() {
            let text = document.getElementById('test_field1');
            const body = {
                textBody: text.value
            }
            sendData("/article/qweqeasdaxczx", JSON.stringify(body), (res) => {
                console.log(res)
            })
        }

        function sendGet() {

        }
    </script>
    <script>
        function sendData(url, body, onload) {
            const xhr = new XMLHttpRequest()
            const method = body ? "POST" : "GET"
            xhr.open(method, url)
            xhr.responseType = "json"
            xhr.setRequestHeader("Content-Type", "application/json")
            xhr.onloadend = () => {
                // if(xhr.readyState == 4){
                onload(xhr.response)
                // }
            }
            xhr.send(body)
        }
    </script>
</head>
<body>
<div class="f-block">
    <!--        <form method="get">-->
    <input type="text" id="test_field"/>
    <button onclick="sendGet()">Send get</button>
    <!--        </form>-->
    <!--        <form method="post">-->
    <input type="text" id="test_field1"/>
    <button onclick="sendPost()">Send post</button>
    <!--        </form>-->
    <input type="color"/>
</div>
<div class="s-block">
    <div>
        <span>title</span>
        <input type="text" id="title">
    </div>
    <div>
        <span>content</span>
        <input type="text" id="content">
    </div>
    <button onclick="insertArticle()">
        Добавить
    </button>
</div>
</body>
</html>